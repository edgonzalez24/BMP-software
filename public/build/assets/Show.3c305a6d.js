import{r as _,x as P,u as C,c as D,w as a,o as O,b as o,f as h,a as e,t as g,h as p,l as T,d as E,g as N,F as G,j as u,P as d}from"./app.9670dd51.js";import{_ as H}from"./AppLayout.f8c5064e.js";import{_ as f}from"./Button.91959820.js";import{_ as R}from"./Table.3fac6ae7.js";import{_ as j}from"./Modal.5fe11d59.js";import{_ as V}from"./Label.bc5e5570.js";import{_ as L}from"./Input.4213f18c.js";import{s as W}from"./index.73cb27f9.js";import{_ as q}from"./Pagination.55515deb.js";import"./logo-updated.06118e35.js";const U=["onSubmit"],z={class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"},J={class:"mb-5"},K={class:"flex justify-end mb-5"},Q={class:"w-auto flex flex-row space-x-4 justify-between"},X=p(" Cancelar "),Y=["onSubmit"],Z=e("h2",{class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"}," Eliminar Categoria ",-1),ee={class:"px-5"},te=e("p",{class:"mt-5 text-justify text-gray-400"}," Al eliminar a esta categoria se borrar\xE1 permanentemente del sistema, por favor confirmar la acci\xF3n haciendo click en el bot\xF3n de 'Eliminar'. ",-1),se={class:"flex justify-end mt-5"},oe={class:"w-auto flex flex-row space-x-4 justify-between"},ae=p(" Cancelar "),re=p(" Eliminar "),ne={class:"min-h-screen"},ie={class:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8"},le={class:"flex justify-between items-center my-5"},ce=e("h2",{class:"font-semibold md:text-3xl text-xl text-dark-blue-500 leading-tight"}," Categorias ",-1),ue=p(" Crear "),de={class:"bg-white overflow-hidden shadow-xl rounded-lg min-h-base"},me={class:"px-5"},_e={class:"mt-2"},fe={class:"text-center p-2 md:text-base text-xs"},pe={class:"text-center p-2 md:text-base text-xs"},xe={class:"text-center p-2 md:text-base text-xs"},he={class:"flex justify-center"},ge={class:"flex flex-row space-x-4"},ve=["onClick"],be=["onClick"],ye={class:"flex mt-8 justify-center"},Be={__name:"Show",props:{categoryArticle:Object},setup(x){const k=x,I=_(["ID","Nombre","Acciones"]),i=P().appContext.config.globalProperties.$toast,m=_(!1),l=_(!1),M=Math.ceil(k.categoryArticle.total/k.categoryArticle.per_page),r=C({name:null,category_id:null}),v=C({id:null}),b=_(!1),y=_(!1),c=()=>{b.value=!b.value},w=()=>{y.value=!y.value},$=t=>{r.name=t.name,r.category_id=t.id,m.value=!0,c()},B=t=>{v.id=t.id,w()},S=()=>{l.value=!0,m.value?r.post(route("category.change"),{onSuccess:()=>{i.success(u().props.value.flash.success,{position:d.BOTTOM_RIGHT,timeout:5e3}),c(),r.reset()},onError:()=>{const t=u().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&i.error(t[s],{position:d.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{l.value=!1}}):r.post(route("category.save"),{onSuccess:()=>{i.success(u().props.value.flash.success,{position:d.BOTTOM_RIGHT,timeout:5e3}),c(),r.reset()},onError:()=>{const t=u().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&i.error(t[s],{position:d.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{l.value=!1}})},A=()=>{l.value=!0,v.get(route("category.delete",v.id),{onSuccess:()=>{i.success(u().props.value.flash.success,{position:d.BOTTOM_RIGHT,timeout:5e3})},onError:()=>{const t=u().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&i.error(t[s],{position:d.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{emit("close"),l.value=!1}})};return(t,s)=>(O(),D(H,null,{default:a(()=>[o(h(W),{active:l.value},null,8,["active"]),o(j,{show:b.value,maxWidth:"lg",onClose:c},{default:a(()=>[e("form",{class:"py-8 px-5",onSubmit:T(S,["prevent"])},[e("h2",z,g(m.value?"Editar categoria":"Nueva categoria"),1),e("div",J,[o(V,{for:"name",value:"Nombre"}),o(L,{id:"name",modelValue:h(r).name,"onUpdate:modelValue":s[0]||(s[0]=n=>h(r).name=n),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),e("div",K,[e("div",Q,[o(f,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:c},{default:a(()=>[X]),_:1}),o(f,{type:"submit"},{default:a(()=>[p(g(m.value?"Editar":"Crear"),1)]),_:1})])])],40,U)]),_:1},8,["show"]),o(j,{show:y.value,maxWidth:"lg",onClose:w},{default:a(()=>[e("form",{class:"py-8 px-5",onSubmit:T(A,["prevent"])},[Z,e("div",ee,[te,e("div",se,[e("div",oe,[o(f,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:w},{default:a(()=>[ae]),_:1}),o(f,{background:"bg-red-600 focus:ring-transparent focus:border-transparent",type:"submit"},{default:a(()=>[re]),_:1})])])])],40,Y)]),_:1},8,["show"]),e("div",ne,[e("div",ie,[e("div",le,[ce,o(f,{onClick:s[1]||(s[1]=n=>{c(),m.value=!1})},{default:a(()=>[ue]),_:1})]),e("div",de,[o(R,{header:I.value},{default:a(()=>[e("tbody",me,[(O(!0),E(G,null,N(x.categoryArticle.data,n=>(O(),E("tr",_e,[e("td",fe,g(n.id),1),e("td",pe,g(n.name),1),e("td",xe,[e("div",he,[e("div",ge,[e("a",{onClick:F=>$(n),class:"text-blue-500 font-medium cursor-pointer"},"Editar",8,ve),e("a",{onClick:F=>B(n),class:"text-blue-500 font-medium cursor-pointer"},"Eliminar",8,be)])])])]))),256))])]),_:1},8,["header"])]),e("div",ye,[o(q,{total:h(M),previous:x.categoryArticle.prev_page_url,next:x.categoryArticle.next_page_url,page:"categories"},null,8,["total","previous","next"])])])])]),_:1}))}};export{Be as default};
