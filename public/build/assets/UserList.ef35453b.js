import{_ as I}from"./AppLayout.c11c9402.js";import{_ as R}from"./Table.b5c6fc82.js";import{_ as y}from"./Button.578517f2.js";import{_ as O}from"./Modal.9fa08d57.js";import{r as h,u as C,o as $,d as w,b as t,f as m,a as e,w as c,l as j,h as E,j as x,P as g,O as M,i as V,p as F,t as v,U as L,J as S,c as U,g as N,F as P}from"./app.1f8ff942.js";import{s as B}from"./index.875a543a.js";import{_ as k}from"./Label.fee612de.js";import{_ as T}from"./Input.a8c90961.js";import"./logo-updated.06118e35.js";const D=["onSubmit"],G=e("h2",{class:"font-semibold md:text-2xl text-lg text-dark-blue-500 leading-tight text-center"},"\xBFEsta seguro de eliminar a este usuario?",-1),H={class:"md:px-5 px-10"},A=e("p",{class:"mt-5 text-justify text-gray-400"}," Al eliminar a este miembro se borrar\xE1 permanentemente del sistema, por favor confirmar la acci\xF3n haciendo click en el bot\xF3n de 'Eliminar'. ",-1),z={class:"flex justify-end mt-5"},q={class:"w-auto flex flex-row space-x-4 justify-between"},W=E(" Cancelar "),J=E(" Eliminar "),Z={__name:"DeleteUser",props:{user:Number},emits:["close"],setup(_,{emit:f}){const l=_,r=h(!1),p=C(),i=()=>{r.value=!0,p.get(this.$route&&this.$route("delete.user",l.user),{onSuccess:()=>{this.$toast.success(x().props.value.flash.success,{position:g.BOTTOM_RIGHT,timeout:5e3})},onError:()=>{const u=x().props.value.errors;for(const o in u)Object.hasOwnProperty.call(u,o)&&this.$toast.error(u[o],{position:g.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{f("close"),r.value=!1}})};return(u,o)=>($(),w("form",{onSubmit:j(i,["prevent"]),class:"py-8 px-5"},[t(m(B),{active:r.value},null,8,["active"]),G,e("div",H,[A,e("div",z,[e("div",q,[t(y,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:o[0]||(o[0]=b=>f("close"))},{default:c(()=>[W]),_:1}),t(y,{background:"bg-red-600 focus:ring-transparent focus:border-transparent",type:"submit"},{default:c(()=>[J]),_:1})])])])],40,D))}},K=["onSubmit"],Q={class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"},X={class:"mb-5"},Y={class:"mb-5"},ee={class:"mb-8"},se=e("path",{d:"M4.95 6.3L0 1.3L1.283 0L4.95 3.706L8.617 0L9.9 1.3L4.95 6.3Z",fill:"#A4AFB7"},null,-1),te=[se],oe={class:"capitalize"},ae={class:"flex justify-end mb-5"},le={class:"w-auto flex flex-row space-x-4 justify-between"},ne=E(" Cancelar "),re={__name:"FormUser",props:{isEdit:Boolean,user:Object},emits:["close"],setup(_,{emit:f}){const l=_,r=M(),p=V(()=>x().props.value.roles),i=h(!1),u=a=>a&&a.length>0?p.value.find(s=>s.name===a[0]):null,o=C({name:l.isEdit&&l.user.name||null,email:l.isEdit&&l.user.email||null,role_id:l.isEdit&&u(l.user.user_role).id||null}),b=()=>{i.value=!0,l.isEdit?o.transform(a=>({...a,user_id:l.user.id})).post(route("change.role"),{onSuccess:()=>{r.success(x().props.value.flash.success,{position:g.BOTTOM_RIGHT,timeout:5e3}),f("close")},onError:()=>{const a=x().props.value.errors;for(const s in a)Object.hasOwnProperty.call(a,s)&&r.error(a[s],{position:g.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{i.value=!1}}):o.post(route("invite.user"),{onSuccess:()=>{r.success(x().props.value.flash.success,{position:g.BOTTOM_RIGHT,timeout:5e3}),f("close")},onError:()=>{const a=x().props.value.errors;for(const s in a)Object.hasOwnProperty.call(a,s)&&r.error(a[s],{position:g.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{i.value=!1}})};return(a,s)=>{const d=F("v-select");return $(),w("form",{class:"py-8 px-5",onSubmit:j(b,["prevent"])},[t(m(B),{active:i.value},null,8,["active"]),e("h2",Q,v(_.isEdit?"Editar usuario":"Invitar a usuario"),1),e("div",X,[t(k,{for:"name",value:"Nombre"}),t(T,{id:"name",modelValue:m(o).name,"onUpdate:modelValue":s[0]||(s[0]=n=>m(o).name=n),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",onlyRead:_.isEdit},null,8,["modelValue","onlyRead"])]),e("div",Y,[t(k,{for:"email",value:"Correo Electr\xF3nico"}),t(T,{id:"email",modelValue:m(o).email,"onUpdate:modelValue":s[1]||(s[1]=n=>m(o).email=n),type:"email",class:"mt-1 block w-full",required:"",autofocus:"",onlyRead:_.isEdit},null,8,["modelValue","onlyRead"])]),e("div",ee,[t(k,{for:"rol",value:"Rol"}),t(d,{modelValue:m(o).role_id,"onUpdate:modelValue":s[2]||(s[2]=n=>m(o).role_id=n),options:m(p).length?m(p):[],reduce:n=>n.id,label:"name",placeholder:"Seleccionar un rol",class:"appearance-none capitalize"},{"open-indicator":c(({attributes:n})=>[($(),w("svg",L(n,{width:"10",height:"7",viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),te,16))]),option:c(({name:n})=>[e("span",oe,v(n),1)]),_:1},8,["modelValue","options","reduce"])]),e("div",ae,[e("div",le,[t(y,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:s[3]||(s[3]=n=>f("close"))},{default:c(()=>[ne]),_:1}),t(y,{type:"submit"},{default:c(()=>[E(v(_.isEdit?"Editar":"Invitar"),1)]),_:1})])])],40,K)}}},ie={class:"py-12 min-h-screen"},ce={class:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8"},ue={class:"flex justify-between items-center mb-5"},de=e("h2",{class:"font-semibold md:text-3xl text-xl text-dark-blue-500 leading-tight"}," Usuarios ",-1),me=E(" Invitar "),_e={class:"bg-white overflow-hidden shadow-xl rounded-lg min-h-base"},pe={class:"px-5"},fe={class:"mt-2"},he={class:"text-center p-2 md:text-base text-xs"},xe={class:"text-center p-2 md:text-base text-xs hidden lg:block"},ve={class:"text-center p-2 md:text-base text-xs"},be=["href"],ge={class:"text-center p-2 md:text-base text-xs capitalize"},$e={class:"text-center p-2 md:text-base text-xs"},ye={class:"flex justify-center"},we={class:"flex flex-row space-x-4"},Ee=["onClick"],ke=["onClick"],Fe={__name:"UserList",props:{users:Object,roles:Array},setup(_){const f=h(["Nombre","Correo Electronico","Telefono","Rol","Acciones"]),l=h(!1),r=S({name:null,email:null,rol_id:null}),p=h(!1),i=()=>{p.value=!p.value},u=h(!1),o=h(0),b=()=>{u.value=!u.value};return(a,s)=>($(),U(I,{title:"Dashboard"},{default:c(()=>[t(O,{show:p.value,maxWidth:"lg",onClose:i},{default:c(()=>[t(re,{isEdit:l.value,user:r,onClose:i},null,8,["isEdit","user"])]),_:1},8,["show"]),t(O,{show:u.value,maxWidth:"lg",onClose:b},{default:c(()=>[t(Z,{user:o.value,onClose:b},null,8,["user"])]),_:1},8,["show"]),e("div",ie,[e("div",ce,[e("div",ue,[de,t(y,{onClick:s[0]||(s[0]=d=>{i(),l.value=!1})},{default:c(()=>[me]),_:1})]),e("div",_e,[t(R,{header:f.value},{default:c(()=>[e("tbody",pe,[($(!0),w(P,null,N(_.users.data,d=>($(),w("tr",fe,[e("td",he,v(d.name),1),e("td",xe,v(d.email),1),e("td",ve,[e("a",{href:`tel:${d.telephone}`},v(d.telephone),9,be)]),e("td",ge,v(d.user_role[0]),1),e("td",$e,[e("div",ye,[e("div",we,[e("a",{onClick:n=>{i(),r=d,l.value=!0},class:"text-blue-500 font-medium cursor-pointer"},"Editar",8,Ee),e("a",{onClick:n=>{b(),o.value=d.id},class:"text-blue-500 font-medium cursor-pointer"},"Eliminar",8,ke)])])])]))),256))])]),_:1},8,["header"])])])])]),_:1}))}};export{Fe as default};
