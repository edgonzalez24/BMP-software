import{o as f,d as v,b as s,w as i,f as l,L as C,F as $,g as T,c as L,h as b,t as h,n as B,a as e,r as g,x as E,J as M,u as A,l as I,j as p,P as x}from"./app.8c627017.js";import{_ as N}from"./AppLayout.a990b22c.js";import{_ as O}from"./Button.cd3afabb.js";import{_ as F}from"./Table.b2eeaa5b.js";import{_ as R}from"./Modal.2ad93b06.js";import{_ as V}from"./Label.30041332.js";import{_ as z}from"./Input.a4403de7.js";import{s as G}from"./index.095061cf.js";import"./logo-updated.06118e35.js";const H={class:"relative z-0 inline-flex rounded-md shadow-sm","aria-label":"Pagination"},U=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-left",class:"h-5 w-5",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[e("path",{class:"fill-current text-gray-500",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"})],-1),D=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-right",class:"h-5 w-5",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[e("path",{class:"fill-current text-gray-500",fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})],-1),q={__name:"Pagination",props:{total:Number,next:String,previous:String,page:String},emits:["next","previous","page"],setup(r,{emit:w}){const y=()=>new URLSearchParams(window.location.search).has("page")?Number(new URLSearchParams(window.location.search).get("page")):1;return(c,n)=>(f(),v("div",H,[s(l(C),{class:"bg-white relative inline-flex items-center w-10 h-10 justify-center border text-sm font-medium border-gray-300 cursor-pointer hover:bg-gray-100 transition duration-300 ease-in-out",href:r.previous},{default:i(()=>[U]),_:1},8,["href"]),(f(!0),v($,null,T(Array.from({length:r.total}),(_,u)=>(f(),L(l(C),{key:u,class:B(["z-10 bg-white relative inline-flex items-center px-4 py-2 border text-sm font-medium border-gray-300 cursor-pointer hover:bg-gray-100 transition duration-300 ease-in-out",y()===u+1?"border-dark-blue-500 text-dark-blue-500 ":"text-gray-400"]),href:c.route(r.page,{page:u+1})},{default:i(()=>[b(h(u+1),1)]),_:2},1032,["class","href"]))),128)),s(l(C),{class:"bg-white relative inline-flex items-center w-10 h-10 justify-center border text-sm font-medium border-gray-300 cursor-pointer hover:bg-gray-100 transition duration-300 ease-in-out",href:r.next},{default:i(()=>[D]),_:1},8,["href"])]))}},J=["onSubmit"],W={class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"},K={class:"mb-5"},Q={class:"flex justify-end mb-5"},X={class:"w-auto flex flex-row space-x-4 justify-between"},Y=b(" Cancelar "),Z={class:"min-h-screen"},ee={class:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8"},te={class:"flex justify-between items-center my-5"},se=e("h2",{class:"font-semibold md:text-3xl text-xl text-dark-blue-500 leading-tight"}," Categorias ",-1),ae=b(" Crear "),re={class:"bg-white overflow-hidden shadow-xl rounded-lg min-h-base"},oe={class:"px-5"},ie={class:"mt-2"},ne={class:"text-center p-2 md:text-base text-xs"},le={class:"text-center p-2 md:text-base text-xs"},ce={class:"text-center p-2 md:text-base text-xs"},ue={class:"flex justify-center"},de={class:"flex flex-row space-x-4"},me=["onClick"],fe={class:"flex mt-8 justify-center"},ke={__name:"Show",props:{categoryArticle:Object},setup(r){const w=r,y=g(["ID","Nombre","Acciones"]),c=E().appContext.config.globalProperties.$toast,n=g(!1),_=g(!1),u=Math.ceil(w.categoryArticle.total/w.categoryArticle.per_page);M({id:null,name:null});const o=A({name:n.value?"sds":null}),k=g(!1),d=()=>{k.value=!k.value},S=t=>{o.name=t.name,o.category_id=t.id,n.value=!0,d()},j=()=>{_.value=!0,n.value?(console.log(o),o.post(route("category.edit"),{onSuccess:()=>{c.success(p().props.value.flash.success,{position:x.BOTTOM_RIGHT,timeout:5e3}),d(),o.reset()},onError:()=>{const t=p().props.value.errors;for(const a in t)Object.hasOwnProperty.call(t,a)&&c.error(t[a],{position:x.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{_.value=!1}})):o.post(route("category.save"),{onSuccess:()=>{c.success(p().props.value.flash.success,{position:x.BOTTOM_RIGHT,timeout:5e3}),d(),o.reset()},onError:()=>{const t=p().props.value.errors;for(const a in t)Object.hasOwnProperty.call(t,a)&&c.error(t[a],{position:x.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{_.value=!1}})};return(t,a)=>(f(),L(N,null,{default:i(()=>[s(l(G),{active:_.value},null,8,["active"]),s(R,{show:k.value,maxWidth:"lg",onClose:d},{default:i(()=>[e("form",{class:"py-8 px-5",onSubmit:I(j,["prevent"])},[e("h2",W,h(n.value?"Editar categoria":"Nueva categoria"),1),e("div",K,[s(V,{for:"name",value:"Nombre"}),s(z,{id:"name",modelValue:l(o).name,"onUpdate:modelValue":a[0]||(a[0]=m=>l(o).name=m),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),e("div",Q,[e("div",X,[s(O,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:d},{default:i(()=>[Y]),_:1}),s(O,{type:"submit"},{default:i(()=>[b(h(n.value?"Editar":"Crear"),1)]),_:1})])])],40,J)]),_:1},8,["show"]),e("div",Z,[e("div",ee,[e("div",te,[se,s(O,{onClick:a[1]||(a[1]=m=>{d(),n.value=!1})},{default:i(()=>[ae]),_:1})]),e("div",re,[s(F,{header:y.value},{default:i(()=>[e("tbody",oe,[(f(!0),v($,null,T(r.categoryArticle.data,m=>(f(),v("tr",ie,[e("td",ne,h(m.id),1),e("td",le,h(m.name),1),e("td",ce,[e("div",ue,[e("div",de,[e("a",{onClick:P=>S(m),class:"text-blue-500 font-medium cursor-pointer"},"Editar",8,me),e("a",{onClick:P=>!0,class:"text-blue-500 font-medium cursor-pointer"},"Eliminar")])])])]))),256))])]),_:1},8,["header"])]),e("div",fe,[s(q,{total:l(u),previous:r.categoryArticle.prev_page_url,next:r.categoryArticle.next_page_url,page:"categories"},null,8,["total","previous","next"])])])])]),_:1}))}};export{ke as default};
