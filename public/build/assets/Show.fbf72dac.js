import{o as p,d as y,b as s,w as a,f as u,L as S,F as B,g as I,c as L,h as g,t as b,n as D,a as e,r as x,x as G,u as $,l as E,j as _,P as h}from"./app.49d8581a.js";import{_ as H}from"./AppLayout.fffd5899.js";import{_ as v}from"./Button.9fa69eb0.js";import{_ as V}from"./Table.52939599.js";import{_ as M}from"./Modal.aa97109b.js";import{_ as z}from"./Label.584dfeaf.js";import{_ as U}from"./Input.578a7824.js";import{s as W}from"./index.39c89ed0.js";import"./logo-updated.06118e35.js";const q={class:"relative z-0 inline-flex rounded-md shadow-sm","aria-label":"Pagination"},J=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-left",class:"h-5 w-5",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[e("path",{class:"fill-current text-gray-500",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"})],-1),K=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-right",class:"h-5 w-5",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[e("path",{class:"fill-current text-gray-500",fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})],-1),Q={__name:"Pagination",props:{total:Number,next:String,previous:String,page:String},emits:["next","previous","page"],setup(r,{emit:w}){const k=()=>new URLSearchParams(window.location.search).has("page")?Number(new URLSearchParams(window.location.search).get("page")):1;return(n,d)=>(p(),y("div",q,[s(u(S),{class:"bg-white relative inline-flex items-center w-10 h-10 justify-center border text-sm font-medium border-gray-300 cursor-pointer hover:bg-gray-100 transition duration-300 ease-in-out",href:r.previous},{default:a(()=>[J]),_:1},8,["href"]),(p(!0),y(B,null,I(Array.from({length:r.total}),(l,m)=>(p(),L(u(S),{key:m,class:D(["z-10 bg-white relative inline-flex items-center px-4 py-2 border text-sm font-medium border-gray-300 cursor-pointer hover:bg-gray-100 transition duration-300 ease-in-out",k()===m+1?"border-dark-blue-500 text-dark-blue-500 ":"text-gray-400"]),href:n.route(r.page,{page:m+1})},{default:a(()=>[g(b(m+1),1)]),_:2},1032,["class","href"]))),128)),s(u(S),{class:"bg-white relative inline-flex items-center w-10 h-10 justify-center border text-sm font-medium border-gray-300 cursor-pointer hover:bg-gray-100 transition duration-300 ease-in-out",href:r.next},{default:a(()=>[K]),_:1},8,["href"])]))}},X=["onSubmit"],Y={class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"},Z={class:"mb-5"},ee={class:"flex justify-end mb-5"},te={class:"w-auto flex flex-row space-x-4 justify-between"},se=g(" Cancelar "),oe=["onSubmit"],ae=e("h2",{class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"}," Eliminar Categoria ",-1),re={class:"px-5"},ne=e("p",{class:"mt-5 text-justify text-gray-400"}," Al eliminar a esta categoria se borrar\xE1 permanentemente del sistema, por favor confirmar la acci\xF3n haciendo click en el bot\xF3n de 'Eliminar'. ",-1),ie={class:"flex justify-end mt-5"},le={class:"w-auto flex flex-row space-x-4 justify-between"},ce=g(" Cancelar "),ue=g(" Eliminar "),de={class:"min-h-screen"},me={class:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8"},fe={class:"flex justify-between items-center my-5"},_e=e("h2",{class:"font-semibold md:text-3xl text-xl text-dark-blue-500 leading-tight"}," Categorias ",-1),he=g(" Crear "),pe={class:"bg-white overflow-hidden shadow-xl rounded-lg min-h-base"},ge={class:"px-5"},xe={class:"mt-2"},ve={class:"text-center p-2 md:text-base text-xs"},be={class:"text-center p-2 md:text-base text-xs"},ye={class:"text-center p-2 md:text-base text-xs"},we={class:"flex justify-center"},ke={class:"flex flex-row space-x-4"},Oe=["onClick"],Ce=["onClick"],Te={class:"flex mt-8 justify-center"},Ae={__name:"Show",props:{categoryArticle:Object},setup(r){const w=r,k=x(["ID","Nombre","Acciones"]),n=G().appContext.config.globalProperties.$toast,d=x(!1),l=x(!1),m=Math.ceil(w.categoryArticle.total/w.categoryArticle.per_page),i=$({name:null}),O=$({id:null}),C=x(!1),T=x(!1),f=()=>{C.value=!C.value},j=()=>{T.value=!T.value},P=t=>{i.name=t.name,i.category_id=t.id,d.value=!0,f()},A=t=>{O.id=t.id,j()},N=()=>{l.value=!0,d.value?i.post(route("category.change"),{onSuccess:()=>{n.success(_().props.value.flash.success,{position:h.BOTTOM_RIGHT,timeout:5e3}),f(),i.reset()},onError:()=>{const t=_().props.value.errors;for(const o in t)Object.hasOwnProperty.call(t,o)&&n.error(t[o],{position:h.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{l.value=!1}}):i.post(route("category.save"),{onSuccess:()=>{n.success(_().props.value.flash.success,{position:h.BOTTOM_RIGHT,timeout:5e3}),f(),i.reset()},onError:()=>{const t=_().props.value.errors;for(const o in t)Object.hasOwnProperty.call(t,o)&&n.error(t[o],{position:h.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{l.value=!1}})},F=()=>{l.value=!0,O.get(route("category.delete",O.id),{onSuccess:()=>{n.success(_().props.value.flash.success,{position:h.BOTTOM_RIGHT,timeout:5e3})},onError:()=>{const t=_().props.value.errors;for(const o in t)Object.hasOwnProperty.call(t,o)&&n.error(t[o],{position:h.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{emit("close"),l.value=!1}})};return(t,o)=>(p(),L(H,null,{default:a(()=>[s(u(W),{active:l.value},null,8,["active"]),s(M,{show:C.value,maxWidth:"lg",onClose:f},{default:a(()=>[e("form",{class:"py-8 px-5",onSubmit:E(N,["prevent"])},[e("h2",Y,b(d.value?"Editar categoria":"Nueva categoria"),1),e("div",Z,[s(z,{for:"name",value:"Nombre"}),s(U,{id:"name",modelValue:u(i).name,"onUpdate:modelValue":o[0]||(o[0]=c=>u(i).name=c),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),e("div",ee,[e("div",te,[s(v,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:f},{default:a(()=>[se]),_:1}),s(v,{type:"submit"},{default:a(()=>[g(b(d.value?"Editar":"Crear"),1)]),_:1})])])],40,X)]),_:1},8,["show"]),s(M,{show:T.value,maxWidth:"lg",onClose:j},{default:a(()=>[e("form",{class:"py-8 px-5",onSubmit:E(F,["prevent"])},[ae,e("div",re,[ne,e("div",ie,[e("div",le,[s(v,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:j},{default:a(()=>[ce]),_:1}),s(v,{background:"bg-red-600 focus:ring-transparent focus:border-transparent",type:"submit"},{default:a(()=>[ue]),_:1})])])])],40,oe)]),_:1},8,["show"]),e("div",de,[e("div",me,[e("div",fe,[_e,s(v,{onClick:o[1]||(o[1]=c=>{f(),d.value=!1})},{default:a(()=>[he]),_:1})]),e("div",pe,[s(V,{header:k.value},{default:a(()=>[e("tbody",ge,[(p(!0),y(B,null,I(r.categoryArticle.data,c=>(p(),y("tr",xe,[e("td",ve,b(c.id),1),e("td",be,b(c.name),1),e("td",ye,[e("div",we,[e("div",ke,[e("a",{onClick:R=>P(c),class:"text-blue-500 font-medium cursor-pointer"},"Editar",8,Oe),e("a",{onClick:R=>A(c),class:"text-blue-500 font-medium cursor-pointer"},"Eliminar",8,Ce)])])])]))),256))])]),_:1},8,["header"])]),e("div",Te,[s(Q,{total:u(m),previous:r.categoryArticle.prev_page_url,next:r.categoryArticle.next_page_url,page:"categories"},null,8,["total","previous","next"])])])])]),_:1}))}};export{Ae as default};
