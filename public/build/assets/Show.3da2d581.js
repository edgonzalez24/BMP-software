import{y as P,J as D,x as N,r as h,i as G,u as C,c as H,w as a,o as O,b as o,f as x,a as e,t as g,h as f,l as T,d as M,g as R,F as V,j as u,P as d}from"./app.cbdbe059.js";import{_ as L}from"./AppLayout.a8247a89.js";import{_}from"./Button.4b297216.js";import{_ as W}from"./Table.84f4075a.js";import{_ as E}from"./Modal.2a8d133a.js";import{_ as q}from"./Label.6146e674.js";import{_ as J}from"./Input.86069e2d.js";import{s as U}from"./index.ba3e03b2.js";import{_ as z}from"./Pagination.988f5bdb.js";import"./logo-updated.06118e35.js";const K=["onSubmit"],Q={class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"},X={class:"mb-5"},Y={class:"flex justify-end mb-5"},Z={class:"w-auto flex flex-row space-x-4 justify-between"},ee=f(" Cancelar "),te=["onSubmit"],se=e("h2",{class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"}," Eliminar Categoria ",-1),oe={class:"px-5"},ae=e("p",{class:"mt-5 text-justify text-gray-400"}," Al eliminar a esta categoria se borrar\xE1 permanentemente del sistema, por favor confirmar la acci\xF3n haciendo click en el bot\xF3n de 'Eliminar'. ",-1),re={class:"flex justify-end mt-5"},ne={class:"w-auto flex flex-row space-x-4 justify-between"},ie=f(" Cancelar "),le=f(" Eliminar "),ce={class:"min-h-screen"},ue={class:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8"},de={class:"flex justify-between items-center my-5"},me=e("h2",{class:"font-semibold md:text-3xl text-xl text-dark-blue-500 leading-tight"}," Categorias ",-1),_e=f(" Crear "),fe={class:"bg-white overflow-hidden shadow-xl rounded-lg min-h-base"},pe={class:"px-5"},he={class:"mt-2"},xe={class:"text-center p-2 md:text-base text-xs"},ge={class:"text-center p-2 md:text-base text-xs"},be={class:"text-center p-2 md:text-base text-xs"},ve={class:"flex justify-center"},ye={class:"flex flex-row space-x-4"},we=["onClick"],Oe=["onClick"],ke={class:"flex mt-8 justify-center"},Fe={__name:"Show",props:{categoryArticle:Object},setup(p){const k=p;P(()=>{});const I=D([{name:"ID",showInMobile:!0},{name:"Nombre",showInMobile:!0},{name:"Acciones",showInMobile:!0}]),i=N().appContext.config.globalProperties.$toast,m=h(!1),l=h(!1),j=G(()=>Math.ceil(k.categoryArticle.total/k.categoryArticle.per_page)),r=C({name:null,category_id:null}),b=C({id:null}),v=h(!1),y=h(!1),c=()=>{v.value=!v.value},w=()=>{y.value=!y.value},$=t=>{r.name=t.name,r.category_id=t.id,m.value=!0,c()},B=t=>{b.id=t.id,w()},S=()=>{l.value=!0,m.value?r.post(route("category.change"),{onSuccess:()=>{i.success(u().props.value.flash.success,{position:d.BOTTOM_RIGHT,timeout:5e3}),c(),r.reset()},onError:()=>{const t=u().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&i.error(t[s],{position:d.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{l.value=!1}}):r.post(route("category.save"),{onSuccess:()=>{i.success(u().props.value.flash.success,{position:d.BOTTOM_RIGHT,timeout:5e3}),c(),r.reset(),window.Echo.channel("categories").listen("category",t=>{console.log(t)})},onError:()=>{const t=u().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&i.error(t[s],{position:d.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{l.value=!1}})},A=()=>{l.value=!0,b.get(route("category.delete",b.id),{onSuccess:()=>{i.success(u().props.value.flash.success,{position:d.BOTTOM_RIGHT,timeout:5e3})},onError:()=>{const t=u().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&i.error(t[s],{position:d.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{l.value=!1}})};return(t,s)=>(O(),H(L,null,{default:a(()=>[o(x(U),{active:l.value},null,8,["active"]),o(E,{show:v.value,maxWidth:"lg",onClose:c},{default:a(()=>[e("form",{class:"py-8 px-5",onSubmit:T(S,["prevent"])},[e("h2",Q,g(m.value?"Editar categoria":"Nueva categoria"),1),e("div",X,[o(q,{for:"name",value:"Nombre"}),o(J,{id:"name",modelValue:x(r).name,"onUpdate:modelValue":s[0]||(s[0]=n=>x(r).name=n),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),e("div",Y,[e("div",Z,[o(_,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:c},{default:a(()=>[ee]),_:1}),o(_,{type:"submit"},{default:a(()=>[f(g(m.value?"Editar":"Crear"),1)]),_:1})])])],40,K)]),_:1},8,["show"]),o(E,{show:y.value,maxWidth:"lg",onClose:w},{default:a(()=>[e("form",{class:"py-8 px-5",onSubmit:T(A,["prevent"])},[se,e("div",oe,[ae,e("div",re,[e("div",ne,[o(_,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:w},{default:a(()=>[ie]),_:1}),o(_,{background:"bg-red-600 focus:ring-transparent focus:border-transparent",type:"submit"},{default:a(()=>[le]),_:1})])])])],40,te)]),_:1},8,["show"]),e("div",ce,[e("div",ue,[e("div",de,[me,o(_,{onClick:s[1]||(s[1]=n=>{c(),m.value=!1})},{default:a(()=>[_e]),_:1})]),e("div",fe,[o(W,{header:I},{default:a(()=>[e("tbody",pe,[(O(!0),M(V,null,R(p.categoryArticle.data,n=>(O(),M("tr",he,[e("td",xe,g(n.id),1),e("td",ge,g(n.name),1),e("td",be,[e("div",ve,[e("div",ye,[e("a",{onClick:F=>$(n),class:"text-blue-500 font-medium cursor-pointer"},"Editar",8,we),e("a",{onClick:F=>B(n),class:"text-blue-500 font-medium cursor-pointer"},"Eliminar",8,Oe)])])])]))),256))])]),_:1},8,["header"])]),e("div",ke,[o(z,{total:x(j),previous:p.categoryArticle.prev_page_url,next:p.categoryArticle.next_page_url,page:"categories"},null,8,["total","previous","next"])])])])]),_:1}))}};export{Fe as default};
