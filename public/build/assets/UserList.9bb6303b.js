import{_ as I}from"./AppLayout.4d3fe5a9.js";import{_ as M}from"./Table.613d53ac.js";import{_ as g}from"./Button.8fe6b133.js";import{_ as k}from"./Modal.d418aaef.js";import{r as f,u as T,o as b,d as $,b as a,f as u,a as e,w as r,l as C,h as w,j as h,P as v,i as R,p as V,t as x,U as F,M as L,c as S,g as U,F as N}from"./app.29c54f81.js";import{s as j}from"./index.df777a61.js";import{_ as E}from"./Label.49e3d504.js";import{_ as O}from"./Input.95b21071.js";import"./logo-updated.06118e35.js";const P=["onSubmit"],D=e("h2",{class:"font-semibold md:text-2xl text-lg text-dark-blue-500 leading-tight text-center"},"\xBFEsta seguro de eliminar a este usuario?",-1),G={class:"md:px-5 px-10"},H=e("p",{class:"mt-5 text-justify text-gray-400"}," Al eliminar a este miembro se borrar\xE1 permanentemente del sistema, por favor confirmar la acci\xF3n haciendo click en el bot\xF3n de 'Eliminar'. ",-1),A={class:"flex justify-end mt-5"},z={class:"w-auto flex flex-row space-x-4 justify-between"},q=w(" Cancelar "),W=w(" Eliminar "),Z={__name:"DeleteUser",props:{user:Number},emits:["close"],setup(d,{emit:p}){const l=d,i=f(!1),c=T(),m=window.route,n=()=>{i.value=!0,m&&c.get(m("delete.user",l.user),{onSuccess:()=>{this.$toast.success(h().props.value.flash.success,{position:v.BOTTOM_RIGHT,timeout:5e3})},onError:()=>{const _=h().props.value.errors;for(const t in _)Object.hasOwnProperty.call(_,t)&&this.$toast.error(_[t],{position:v.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{p("close"),i.value=!1}})};return(_,t)=>(b(),$("form",{onSubmit:C(n,["prevent"]),class:"py-8 px-5"},[a(u(j),{active:i.value},null,8,["active"]),D,e("div",G,[H,e("div",A,[e("div",z,[a(g,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:t[0]||(t[0]=o=>p("close"))},{default:r(()=>[q]),_:1}),a(g,{background:"bg-red-600 focus:ring-transparent focus:border-transparent",type:"submit"},{default:r(()=>[W]),_:1})])])])],40,P))}},J=["onSubmit"],K={class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"},Q={class:"mb-5"},X={class:"mb-5"},Y={class:"mb-8"},ee=e("path",{d:"M4.95 6.3L0 1.3L1.283 0L4.95 3.706L8.617 0L9.9 1.3L4.95 6.3Z",fill:"#A4AFB7"},null,-1),te=[ee],se={class:"capitalize"},oe={class:"flex justify-end mb-5"},ae={class:"w-auto flex flex-row space-x-4 justify-between"},le=w(" Cancelar "),ne={__name:"FormUser",props:{isEdit:Boolean,user:Object},emits:["close"],setup(d,{emit:p}){const l=d,i=R(()=>h().props.value.roles),c=f(!1),m=t=>t&&t.length>0?i.value.find(o=>o.name===t[0]):null,n=T({name:l.isEdit&&l.user.name||null,email:l.isEdit&&l.user.email||null,role_id:l.isEdit&&m(l.user.user_role).id||null}),_=()=>{c.value=!0,l.isEdit?n.transform(t=>({...t,user_id:l.user.id})).post(route("change.role"),{onSuccess:()=>{this.$toast.success(h().props.value.flash.success,{position:v.BOTTOM_RIGHT,timeout:5e3}),p("close")},onError:()=>{const t=h().props.value.errors;for(const o in t)Object.hasOwnProperty.call(t,o)&&this.$toast.error(t[o],{position:v.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{c.value=!1}}):n.post(route("invite.user"),{onSuccess:()=>{this.$toast.success(h().props.value.flash.success,{position:v.BOTTOM_RIGHT,timeout:5e3}),p("close")},onError:()=>{const t=h().props.value.errors;for(const o in t)Object.hasOwnProperty.call(t,o)&&this.$toast.error(t[o],{position:v.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{c.value=!1}})};return(t,o)=>{const y=V("v-select");return b(),$("form",{class:"py-8 px-5",onSubmit:C(_,["prevent"])},[a(u(j),{active:c.value},null,8,["active"]),e("h2",K,x(d.isEdit?"Editar usuario":"Invitar a usuario"),1),e("div",Q,[a(E,{for:"name",value:"Nombre"}),a(O,{id:"name",modelValue:u(n).name,"onUpdate:modelValue":o[0]||(o[0]=s=>u(n).name=s),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",onlyRead:d.isEdit},null,8,["modelValue","onlyRead"])]),e("div",X,[a(E,{for:"email",value:"Correo Electr\xF3nico"}),a(O,{id:"email",modelValue:u(n).email,"onUpdate:modelValue":o[1]||(o[1]=s=>u(n).email=s),type:"email",class:"mt-1 block w-full",required:"",autofocus:"",onlyRead:d.isEdit},null,8,["modelValue","onlyRead"])]),e("div",Y,[a(E,{for:"rol",value:"Rol"}),a(y,{modelValue:u(n).role_id,"onUpdate:modelValue":o[2]||(o[2]=s=>u(n).role_id=s),options:u(i).length?u(i):[],reduce:s=>s.id,label:"name",placeholder:"Seleccionar un rol",class:"appearance-none capitalize"},{"open-indicator":r(({attributes:s})=>[(b(),$("svg",F(s,{width:"10",height:"7",viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),te,16))]),option:r(({name:s})=>[e("span",se,x(s),1)]),_:1},8,["modelValue","options","reduce"])]),e("div",oe,[e("div",ae,[a(g,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:o[3]||(o[3]=s=>p("close"))},{default:r(()=>[le]),_:1}),a(g,{type:"submit"},{default:r(()=>[w(x(d.isEdit?"Editar":"Invitar"),1)]),_:1})])])],40,J)}}},re={class:"py-12 min-h-screen"},ie={class:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8"},ce={class:"flex justify-between items-center mb-5"},ue=e("h2",{class:"font-semibold md:text-3xl text-xl text-dark-blue-500 leading-tight"}," Usuarios ",-1),de=w(" Invitar "),me={class:"bg-white overflow-hidden shadow-xl rounded-lg min-h-base"},_e={class:"px-5"},pe={class:"mt-2"},fe={class:"text-center p-2 md:text-base text-xs"},he={class:"text-center p-2 md:text-base text-xs hidden lg:block"},xe={class:"text-center p-2 md:text-base text-xs"},ve=["href"],be={class:"text-center p-2 md:text-base text-xs capitalize"},ge={class:"text-center p-2 md:text-base text-xs"},$e={class:"flex justify-center"},we={class:"flex flex-row space-x-4"},ye=["onClick"],Ee=["onClick"],Ve={__name:"UserList",props:{users:Object,roles:Array},setup(d){const p=f(["Nombre","Correo Electronico","Telefono","Rol","Acciones"]),l=f(!1),i=L({name:null,email:null,rol_id:null}),c=f(!1),m=()=>{c.value=!c.value},n=f(!1),_=f(0),t=()=>{n.value=!n.value};return(o,y)=>(b(),S(I,{title:"Dashboard"},{default:r(()=>[a(k,{show:c.value,maxWidth:"lg",onClose:m},{default:r(()=>[a(ne,{isEdit:l.value,user:i,onClose:m},null,8,["isEdit","user"])]),_:1},8,["show"]),a(k,{show:n.value,maxWidth:"lg",onClose:t},{default:r(()=>[a(Z,{user:_.value,onClose:t},null,8,["user"])]),_:1},8,["show"]),e("div",re,[e("div",ie,[e("div",ce,[ue,a(g,{onClick:y[0]||(y[0]=s=>{m(),l.value=!1})},{default:r(()=>[de]),_:1})]),e("div",me,[a(M,{header:p.value},{default:r(()=>[e("tbody",_e,[(b(!0),$(N,null,U(d.users.data,s=>(b(),$("tr",pe,[e("td",fe,x(s.name),1),e("td",he,x(s.email),1),e("td",xe,[e("a",{href:`tel:${s.telephone}`},x(s.telephone),9,ve)]),e("td",be,x(s.user_role[0]),1),e("td",ge,[e("div",$e,[e("div",we,[e("a",{onClick:B=>{m(),i=s,l.value=!0},class:"text-blue-500 font-medium cursor-pointer"},"Editar",8,ye),e("a",{onClick:B=>{t(),_.value=s.id},class:"text-blue-500 font-medium cursor-pointer"},"Eliminar",8,Ee)])])])]))),256))])]),_:1},8,["header"])])])])]),_:1}))}};export{Ve as default};
