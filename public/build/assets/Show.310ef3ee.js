import{i as M,o as w,d as T,a as e,t as u,q as A,G,f as n,D as R,n as H,J as U,r as k,u as E,x as q,c as L,w as d,b as o,h as y,l as j,g as W,F as z,j as h,P as x}from"./app.6d3bc8a1.js";import{_ as J}from"./AppLayout.249ad17f.js";import{_ as g}from"./Button.88019c98.js";import{s as K}from"./index.58d13ebe.js";import{_ as S}from"./Modal.0211b894.js";import{_ as $}from"./Label.265655fd.js";import{_ as I}from"./Input.65161d71.js";import{_ as Q}from"./Table.f7b9fefe.js";import{_ as X}from"./Pagination.ca39917b.js";import"./logo-updated.06118e35.js";const Y={class:"w-full relative inline-flex"},Z={class:"relative mr-3"},ee={class:"text-gray-500 text-sm"},te={class:"flex items-center cursor-pointer"},se={class:"relative"},oe=e("div",{class:"toggle__line w-10 h-4 rounded-full shadow-inner bg-gray-100"},null,-1),ae=e("div",{class:"toggle__dot absolute w-6 h-6 bg-white rounded-full shadow inset-y-0 left-0"},null,-1),le=e("div",{class:"ml-3 text-dark font-medium"},null,-1),ne={class:"relative ml-1"},re={class:"text-gray-500 text-sm"},ie={__name:"Toggle",props:{checked:Number,label:Boolean},emits:["update:checked"],setup(r,{emit:m}){const v=r,i=M({get(){return v.checked===1},set(c){m("update:checked",c?1:0)}});return(c,p)=>(w(),T("div",Y,[e("div",Z,[e("p",ee,u(r.label?"No":"Inactivo"),1)]),e("label",te,[e("div",se,[A(e("input",{"onUpdate:modelValue":p[0]||(p[0]=b=>R(i)?i.value=b:null),type:"checkbox",class:"hidden"},null,512),[[G,n(i)]]),oe,ae]),le]),e("div",ne,[e("p",re,u(r.label?"Si":"Activo"),1)])]))}},ce={__name:"Status",props:{status:Number},setup(r){const m=r,v=M(()=>m.status===1?"text-green-700 bg-green-300":"text-red-700 bg-red-300");return(i,c)=>(w(),T("div",{class:H(["text-xs rounded-full px-1 py-0.5",n(v)])},u(r.status===1?"Activo":"Inactivo"),3))}},de=["onSubmit"],ue={class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"},me={class:"mb-5"},pe={class:"mb-5"},_e={class:"mb-5"},fe={class:"mb-5"},he={class:"flex justify-end mb-5"},xe={class:"w-auto flex flex-row space-x-4 justify-between"},ve=y(" Cancelar "),be=["onSubmit"],ge=e("h2",{class:"font-semibold text-2xl text-dark-blue-500 leading-tight text-center mb-5"}," Eliminar Proveedor ",-1),we={class:"px-5"},ye=e("p",{class:"mt-5 text-justify text-gray-400"}," Al eliminar a este proveedor se borrar\xE1 permanentemente del sistema, por favor confirmar la acci\xF3n haciendo click en el bot\xF3n de 'Eliminar'. ",-1),ke={class:"flex justify-end mt-5"},$e={class:"w-auto flex flex-row space-x-4 justify-between"},Te=y(" Cancelar "),Oe=y(" Eliminar "),Ce={class:"min-h-screen"},Ie={class:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8"},Me={class:"flex justify-between items-center my-5"},Ee=e("h2",{class:"font-semibold md:text-3xl text-xl text-dark-blue-500 leading-tight"}," Proveedores ",-1),je=y(" A\xF1adir "),Se={class:"bg-white overflow-hidden shadow-xl rounded-lg min-h-base"},Ve={class:"px-5"},Be={class:"mt-2"},Pe={class:"text-center p-2 md:text-base text-xs"},Fe={class:"text-center p-2 md:text-base text-xs"},Ne=["href"],De={class:"text-center p-2 md:text-base text-xs"},Ae={class:"flex justify-center"},Ge={class:"text-center p-2 md:text-base text-xs hidden lg:block"},Re={class:"text-center p-2 md:text-base text-xs"},He={class:"flex justify-center"},Ue={class:"flex flex-row space-x-4"},qe=["onClick"],Le=["onClick"],We={class:"flex mt-8 justify-center"},ot={__name:"Show",props:{suppliers:Object},setup(r){const m=r,v=U([{name:"Nombre",showInMobile:!0},{name:"Tel\xE9fono",showInMobile:!0},{name:"Estado",showInMobile:!0},{name:"Correo Electr\xF3nico",showInMobile:!1},{name:"Acciones",showInMobile:!0}]),i=k(!1),c=k(!1),p=k(!1),b=k(!1),a=E({supplier_id:null,name:null,telephone:null,email:null,active:1}),O=E({id:null}),_=()=>{p.value=!p.value},C=()=>{b.value=!b.value},V=t=>{a.name=t.name,a.supplier_id=t.id,a.telephone=t.telephone,a.active=t.active,a.email=t.email,c.value=!0,_()},B=t=>{O.id=t.id,C()},f=q().appContext.config.globalProperties.$toast,P=M(()=>Math.ceil(m.suppliers.total/m.suppliers.per_page)),F=()=>{i.value=!0,c.value?a.post(route("supplier.change"),{onSuccess:()=>{f.success(h().props.value.flash.success,{position:x.BOTTOM_RIGHT,timeout:5e3}),_(),a.reset()},onError:()=>{const t=h().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&f.error(t[s],{position:x.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{i.value=!1}}):a.post(route("supplier.save"),{onSuccess:()=>{f.success(h().props.value.flash.success,{position:x.BOTTOM_RIGHT,timeout:5e3}),_(),a.reset()},onError:()=>{const t=h().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&f.error(t[s],{position:x.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{i.value=!1}})},N=()=>{i.value=!0,O.get(route("supplier.delete",O.id),{onSuccess:()=>{f.success(h().props.value.flash.success,{position:x.BOTTOM_RIGHT,timeout:5e3})},onError:()=>{const t=h().props.value.errors;for(const s in t)Object.hasOwnProperty.call(t,s)&&f.error(t[s],{position:x.BOTTOM_RIGHT,timeout:5e3})},onFinish:()=>{i.value=!1}})};return(t,s)=>(w(),L(J,null,{default:d(()=>[o(n(K),{active:i.value},null,8,["active"]),o(S,{show:p.value,maxWidth:"lg",onClose:_},{default:d(()=>[e("form",{class:"py-8 px-5",onSubmit:j(F,["prevent"])},[e("h2",ue,u(c.value?"Editar proveedor":"A\xF1adir proveedor"),1),e("div",me,[o($,{for:"name",value:"Status"}),o(ie,{checked:n(a).active,"onUpdate:checked":s[0]||(s[0]=l=>n(a).active=l)},null,8,["checked"])]),e("div",pe,[o($,{for:"name",value:"Nombre"}),o(I,{id:"name",modelValue:n(a).name,"onUpdate:modelValue":s[1]||(s[1]=l=>n(a).name=l),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),e("div",_e,[o($,{for:"name",value:"T\xE9lefono"}),o(I,{id:"name",modelValue:n(a).telephone,"onUpdate:modelValue":s[2]||(s[2]=l=>n(a).telephone=l),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"])]),e("div",fe,[o($,{for:"name",value:"Correo Electr\xF3nico"}),o(I,{id:"name",modelValue:n(a).email,"onUpdate:modelValue":s[3]||(s[3]=l=>n(a).email=l),type:"email",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"])]),e("div",he,[e("div",xe,[o(g,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:_},{default:d(()=>[ve]),_:1}),o(g,{type:"submit"},{default:d(()=>[y(u(c.value?"Editar":"A\xF1adir"),1)]),_:1})])])],40,de)]),_:1},8,["show"]),o(S,{show:b.value,maxWidth:"lg",onClose:C},{default:d(()=>[e("form",{class:"py-8 px-5",onSubmit:j(N,["prevent"])},[ge,e("div",we,[ye,e("div",ke,[e("div",$e,[o(g,{background:"bg-transparente text-gray-300 focus:ring-transparent focus:border-transparent",type:"button",onClick:C},{default:d(()=>[Te]),_:1}),o(g,{background:"bg-red-600 focus:ring-transparent focus:border-transparent",type:"submit"},{default:d(()=>[Oe]),_:1})])])])],40,be)]),_:1},8,["show"]),e("div",Ce,[e("div",Ie,[e("div",Me,[Ee,o(g,{onClick:s[4]||(s[4]=l=>{c.value=!1,n(a).reset(),_()})},{default:d(()=>[je]),_:1})]),e("div",Se,[o(Q,{header:v},{default:d(()=>[e("tbody",Ve,[(w(!0),T(z,null,W(r.suppliers.data,l=>(w(),T("tr",Be,[e("td",Pe,u(l.name),1),e("td",Fe,[e("a",{href:`tel:${l.telephone}`},u(l.telephone),9,Ne)]),e("td",De,[e("div",Ae,[o(ce,{status:l.active,class:"sm:w-1/2 md:w-1/3 w-full"},null,8,["status"])])]),e("td",Ge,u(l.email),1),e("td",Re,[e("div",He,[e("div",Ue,[e("a",{onClick:D=>V(l),class:"text-blue-500 font-medium cursor-pointer"},"Editar",8,qe),e("a",{onClick:D=>B(l),class:"text-blue-500 font-medium cursor-pointer"},"Eliminar",8,Le)])])])]))),256))])]),_:1},8,["header"])]),e("div",We,[o(X,{total:n(P),previous:r.suppliers.prev_page_url,next:r.suppliers.next_page_url,page:"suppliers"},null,8,["total","previous","next"])])])])]),_:1}))}};export{ot as default};
